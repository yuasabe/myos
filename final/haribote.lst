     1                                  ; haribote-os
     2                                  
     3                                  ; BOOT_INFO関係
     4                                  CYLS		EQU		0x0ff0
     5                                  LEDS		EQU		0x0ff1
     6                                  VMODE		EQU		0x0ff2
     7                                  SCRNX		EQU		0x0ff4
     8                                  SCRNY		EQU		0x0ff6
     9                                  VRAM		EQU		0x0ff8
    10                                  
    11                                  				ORG		0xc200		; このプログラムがどこに読み込まれるか
    12                                  
    13 00000000 B013                    				MOV		AL, 0x13	; VGAグラフィックス、320x200x8bitカラー
    14 00000002 B400                    				MOV		AH, 0x00
    15 00000004 CD10                    				INT		0x10
    16 00000006 C606F20F08              				MOV		BYTE [VMODE],8		; 画面モードをメモする
    17 0000000B C706F40F4001            				MOV		WORD [SCRNX],320
    18 00000011 C706F60FC800            				MOV		WORD [SCRNY],200
    19 00000017 66C706F80F00000A00      				MOV		DWORD [VRAM],0x000a0000
    20                                  
    21                                  ; キーボードのLED状態をBIOSに教えてもらう
    22                                  
    23 00000020 B402                    				MOV		AH,0x02
    24 00000022 CD16                    				INT		0x16			; keyboard BIOS
    25 00000024 A2F10F                  				MOV		[LEDS],AL
    26                                  
    27                                  fin:
    28 00000027 F4                      				HLT
    29 00000028 EBFD                    				JMP		fin
